<html>
  
  <td style="text-align: center;"><a href="https://www.youtube.com/watch?v=8DvywoWv6fI">Python for beginners</a></td>
  <br>

<li>consider also learning scikit-image and ti install astrolib.py </li>  
<li><a href="https://eteq.github.io/astropy/visualization/lupton_rgb.html">astropy composite RGB</a>

<li> <a href="https://scikit-image.org/docs/stable/auto_examples/color_exposure/plot_equalize.html#sphx-glr-auto-examples-color-exposure-plot-equalize-py"> scikit-image</a>
 
 
<br>import numpy as np
<br>import matplotlib.pyplot as plt
<br>import astropy.visualization
<br>import sys
<br>import os
<br>import img_scale
<br>from astropy.visualization import make_lupton_rgb
<br>from astropy.wcs import WCS
<br>from astropy.io import fits
<br>
<br>#Python: Spawning another program
<br>#https://stackoverflow.com/questions/34952291/python-spawning-another-program
<br>A='test.fits htan.txt'
<br>cmd='/Users/mmessine/software/Montage_v3.3/bin/mproject '+'IC2391-0074_2001.fits '+A 
<br>print(cmd)
<br>result = os.system(cmd)
<br>
<br>hdu1= fits.open('test.fits') #UVES acquisition
<br>hdu1.info()
<br>im1 = hdu1[0].data*1.0

<br>hdu2 = fits.open('dss2-red_IC2391-0074.fits') #dss2
<br>hdu2.info()
<br>im2 = hdu2[0].data*1.0
<br>
<br>#https://learn.astropy.org/tutorials/celestial_coords1.html
<br>header = hdu1[0].header
<br>wcs_helix = WCS(header)

<br>#https://www.astrobetter.com/blog/2010/10/22/making-rgb-images-from-fits-files-with-pythonmatplotlib/
<br>#http://astroweb.case.edu/jakub/TA/img_scale.py   img_scale.py
<br>#img = np.zeros((im1.shape[1], im1.shape[0], 3), dtype=float)
<br>#img = np.zeros((60,59, 3), dtype=float)
<br>#img[:,:,0] = im1
<br>#img[:,:,1] = im1
<br>#img[:,:,2] = im1
<br>a = img_scale.range_from_percentile(im1,low_cut=0.1, high_cut=0.65)
<br>b = img_scale.range_from_percentile(im2,low_cut=0.2, high_cut=0.15)
<br>c = img_scale.range_from_percentile(im2,low_cut=0.2, high_cut=0.15)

<br>a = img_scale.linear(im1,scale_min=a[0], scale_max=a[1])
<br>b = img_scale.linear(im2,scale_min=b[0], scale_max=b[1])
<br>c = img_scale.linear(im2,scale_min=c[0], scale_max=c[1])
<br>#https://eteq.github.io/astropy/visualization/lupton_rgb.html
<br>#image_rgb = astropy.visualization.make_lupton_rgb(a,b,c,stretch=1.,filename="qw.jpeg")

<br>image_rgb = astropy.visualization.make_lupton_rgb(a,b,c,filename="qw.jpeg")

<br>fig = plt.figure(figsize=(10, 10))
<br>ax = plt.subplot(projection=wcs_helix)
<br>plt.imshow(image_rgb, origin='lower')
<br>plt.colorbar()
<br>plt.xlabel(r'RA')
<br>plt.ylabel(r'Dec')
<br>overlay = ax.get_coords_overlay('icrs')
<br>#overlay.grid(color='white', ls='dotted')
<br>#plt.show()
<br>plt.savefig('foo.png')

<br>sys.exit()
<br>


<br>#reproject installation warnings
<br>#https://astronomy.stackexchange.com/questions/51766/making-rgb-image-using-fits-files-with-different-dimensions
<br>#ndata, _ = reproject.reproject_interp(hdu2[0], hdu1[0].header)
<br>#datat, _ = reproject.reproject_interp(hdu3[0], hdu1[0].header)


<br>plt.imshow(im1, cmap='gray')
<br>plt.colorbar()
<br>plt.show()
<br>sys.exit()

